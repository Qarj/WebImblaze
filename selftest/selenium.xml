<testcases repeat="1">

<!--
Self test master file. All test steps in this file should pass.
-->

<testvar varname="feature">selenium</testvar>

<!--
    command='start java -Dwebdriver.chrome.driver="C:\selenium-server\chromedriver.exe" -Dwebdriver.chrome.logfile="selftest\substeps\${feature}chrome_logfile.xml" -jar C:\selenium-server\selenium-server-standalone-2.53.0.jar -port 9988 -trustAllSSLCertificates"'
    command='wmic process call create "cmd /c java -Dwebdriver.chrome.driver=C:\selenium-server\chromedriver.exe -Dwebdriver.chrome.logfile={SINGLEQUOTE}selftest\substeps\${feature}chrome_logfile.xml{SINGLEQUOTE} -jar C:\selenium-server\selenium-server-standalone-2.53.0.jar -port 9988 -trustAllSSLCertificates"'
    command="wmic process call create 'cmd /c java -Dwebdriver.chrome.driver="C:\selenium-server\chromedriver.exe" -Dwebdriver.chrome.logfile="selftest\substeps\${feature}chrome_logfile.xml" -jar C:\selenium-server\selenium-server-standalone-2.53.0.jar -port 9988 -trustAllSSLCertificates'"
-->
<case
    id="10"
    description1="Start Selenium Server with ChromeDriver"
    method="cmd"
    command='wmic process call create {SINGLEQUOTE}cmd /c java -Dwebdriver.chrome.driver="C:\selenium-server\chromedriver.exe" -jar C:\selenium-server\selenium-server-standalone-2.53.0.jar -port 9988 -trustAllSSLCertificates{SINGLEQUOTE}'
/>

<case
    id="20"
    description1="Run WebInject pointing to the Selenium Server port"
    method="cmd"
    command="perl webinject.pl -o selftest\output\${feature}server_chrome_sub --port 9988 --driver chrome selftest\substeps\${feature}.xml"
    verifypositive1="__RequestVerificationToken"
    verifypositive2="Test Cases Failed: 0"
/>

<case
    id="30"
    description1="Shutdown Selenium Server"
    method="get"
    url="http://localhost:9988/selenium-server/driver/?cmd=shutDownSeleniumServer"
/>

<case
    id="100"
    description1="Run WebInject pointing to the ChromeDriver binary - does not require Selenium Server or java"
    method="cmd"
    command="perl webinject.pl -o selftest\output\${feature}_chromedriver_standalone_sub --driver chromedriver --binary C:\selenium-server\chromedriver.exe selftest\substeps\${feature}.xml"
    verifypositive1="__RequestVerificationToken"
    verifypositive2="Test Cases Failed: 0"
/>

</testcases>